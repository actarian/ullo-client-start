var LESSON=!0,CONFIG={CLIENT:0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"http://ulloclient.wslabs.it":"http://dev.ullowebapp:8081",API:LESSON||0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"http://ulloapi.wslabs.it":"https://localhost:44302",FACEBOOK_APP_ID:0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"1054303094614120":"1062564893787940",assetTypeEnum:{Unknown:0,Picture:1},IOS:!!navigator.userAgent.match(/iPad|iPhone|iPod/g)};app.factory("WebWorker",["$q","$http",function($q,$http){function WebWorker(e){var t=this;this.callbacks={},this.id=0,this.worker=new Worker(e),this.worker.onmessage=function(e){t.onmessage(e)}}var isWebWorkerSupported="undefined"!=typeof Worker;return isWebWorkerSupported||(window.Worker=function(){function Worker(src){var self=this;$http.get(src,{transformResponse:function(e,t){return e}}).then(function success(response){try{eval("self.o = function(){ function postMessage(e) { self.onmessage({data:e}); }\n "+response.data+" };"),self.object=new self.o,self.object.postMessage=function(e){self.onmessage({data:e})}}catch(e){console.log("Worker error ",e)}},function(e){console.log("Worker not found")})}return Worker.prototype={onmessage:function(e){console.log("Worker not implemented")},postMessage:function(e){this.object.onmessage({data:e})}},Worker}()),WebWorker.prototype={parse:function(e){return JSON.parse(e.data)},stringify:function(e){return JSON.stringify(e)},onmessage:function(e){var t=this.parse(e),r=this.callbacks[t.id];-1!==t.status?r.resolve(t):r.reject(t),delete this.callbacks[t.id]},post:function(e){var t=$q.defer();return e.id=this.id,this.callbacks[this.id.toString()]=t,this.id++,this.worker.postMessage(this.stringify(e)),t.promise}},WebWorker.isSupported=isWebWorkerSupported,WebWorker}]),app.factory("$httpAsync",["$q","$http",function(e,t){function r(t){var n=e.defer(),o=u(t);return o.id=f.toString(),console.log("wrap",o),c[o.id]=n,f++,d.postMessage(r.stringify(o)),n.promise}function n(e){return e>=200&&300>e}function o(){return Object.create(null)}function s(e){return"string"==typeof e}function a(e){function t(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}var r,n=o();if(s(e))for(var a=e.split("\n"),i=0;i<a.length;i++){var u=a[i];r=u.indexOf(":"),t(p(h(u.substr(0,r))),h(u.substr(r+1)))}else if(isObject(e))for(var l in e)t(p(l),h(e[l]));return n}function i(e){var t;return function(r){if(t||(t=a(e)),r){var n=t[p(r)];return void 0===n&&(n=null),n}return t}}function u(e){var r={method:"GET",withCredentials:!1,responseType:"json",headers:{},config:{}};r.withCredentials=t.defaults.withCredentials,angular.extend(r.headers,t.defaults.headers.common);var n=(e.method||r.method).toLowerCase();return t.defaults.headers[n]&&angular.extend(r.headers,t.defaults.headers[n]),console.log("defaults",t.defaults),e?e=angular.extend(r,e):r,e}var l="undefined"!=typeof Worker;if(!l)return t;var d=new Worker("/js/workers/http.min.js"),c={},f=0,p=function(e){return s(e)?e.toLowerCase():e},h=function(e){return s(e)?e.trim():e};return r.get=function(e,t){return r(angular.extend({},t||{},{method:"GET",url:e}))},r["delete"]=function(e,t){return r(angular.extend({},t||{},{method:"DELETE",url:e}))},r.head=function(e,t){return r(angular.extend({},t||{},{method:"HEAD",url:e}))},r.post=function(e,t,n){return r(angular.extend({},n||{},{method:"POST",data:t,url:e}))},r.put=function(e,t,n){return r(angular.extend({},n||{},{method:"PUT",data:t,url:e}))},r.patch=function(e,t,n){return r(angular.extend({},n||{},{method:"PATCH",data:t,url:e}))},r.parse=function(e){return JSON.parse(e.data)},r.stringify=function(e){return JSON.stringify(e)},r.isSupported=l,d.onmessage=function(e){var t=r.parse(e);console.log("onmessage",t);var o=c[t.id],s=t.status>=-1?t.status:0,a=i(t.response.headers);(n(s)?o.resolve:o.reject)({data:t.response.data,headers:a,status:t.response.status,statusText:t.response.statusText,config:t.config}),delete c[t.id]},r}]);
//# sourceMappingURL=app.min.js.map
